

<!DOCTYPE html>

<html>

<head>

  <meta charset="utf-8">

   <link rel="shortcut icon" href="../images/favicon.png"> 

   <link rel="stylesheet" href="../css/bootstrap.css">

  <style>

    .content2{

        text-align:right;

    }



    @media screen and (max-width:736px) and (min-width:641px){

        /* tablets, Ipad */

        .content2{

            margin-left: 0px;

            margin-top: 5px;

            text-align: center;

        }  

        .tabScore {

            display: none;

        } 

        .remise, .compte, .compteAvance, .versement, .client, .avanceInput {

            width: 28%;

        }          

        .clientMutuelle, .compteMutuelle, .tauxMutuelle, .idMutuelle, .avanceInputM, .compteAvanceM, .codeAdherantMutuelle, .codeBeneficiaire, .numeroRecu, .dateRecu, .codeBarreLigneMutuelle{

            width: 20%;

        }

        .compte, .compteAvance, .versement,.terminer, .tauxMutuelle, .client, .avanceInput {

            /* margin-top:3px; */

            margin-left:3px;

        }       

        .clientMutuelle, .compteMutuelle, .tauxMutuelle, .idMutuelle, .avanceInputM, .compteAvanceM, .codeAdherantMutuelle, .codeBeneficiaire, .numeroRecu, .dateRecu, .codeBarreLigneMutuelle {

            margin-top:3px;

            margin-left:3px;

        }        

        /* .clientMutuelle, .avanceInputM, .compteAvanceM{

            width: 16%;

            margin-left:10px;

        }           */

        .codeAdherantMutuelle, .codeBeneficiaire, .numeroRecu, .dateRecu{

            width: 14%;

        }          

        .codeBarreLigneMutuelle{

            width: 50%;

        }

    }



    @media screen and (max-width:768px) and (min-width:737px){

        /* tablets, Ipad */

        .content2{

            margin-left: 0px;

            /* margin-top: 5px; */

            text-align: center;

        }  

        .tabScore {

            display: none;

        } 

        .remise, .compte, .compteAvance, .versement, .client, .avanceInput {

            width: 110px;

        } 

        .compte, .compteAvance, .versement,.terminer, .client, .avanceInput {

            /* margin-top:3px; */

            margin-left:3px;

        }         

        .tauxMutuelle, .idMutuelle, .compteMutuelle, .annulerMutuelle, .terminerMutuelle {

            margin-top:10px;

            margin-left:10px;

        }         

        .clientMutuelle, .compteMutuelle, .tauxMutuelle, .idMutuelle, .avanceInputM, .compteAvanceM, .codeAdherantMutuelle, .codeBeneficiaire, .numeroRecu, .dateRecu, .codeBarreLigneMutuelle {

            margin-top:3px;

            margin-left:10px;

        }        

        .codeBeneficiaire{

            margin-left:15%;

        }                  

        .clientMutuelle, .compteMutuelle, .tauxMutuelle, .idMutuelle, .avanceInputM, .compteAvanceM{

            width: 26%;

            margin-left:3px;

        }          

        .codeAdherantMutuelle, .codeBeneficiaire, .numeroRecu, .dateRecu, .tauxMutuelle, .idMutuelle, .compteMutuelle{

            width: 26%;

        }          

        .codeBarreLigneMutuelle{

            width: 36%;

        }

    }

  </style>

   

   <link rel="stylesheet" href="css/datatables.min.css">

   <script src="js/jquery-3.1.1.min.js"></script>

   <script src="js/bootstrap.js"></script>

   <script type="text/javascript" src="js/jquery-barcode.js"></script>

   <script type="text/javascript" src="js/jquery.mask.min.js"></script>

   <style>

   .panel-group .panel {

        border-radius: 1px;

        box-shadow: none;

        border-color: #EEEEEE;

    }

    .panel-title > a {

        display: block;



    }

    

    .ajouterProdForm .typeahead {

        width: 97%;

        /* background: #fff none repeat scroll 0 0; */

        border: medium none;

        color: #333;

        font-size: 14px;

        /* font-weight: 300; */

        /* text-align: left; #c43b68*/

        height: auto;

        max-height : 250px;

        overflow-y: scroll;

    }

    

    .ajouterProdFormMutuelle .typeahead {

        width: 23%;

        /* background: #fff none repeat scroll 0 0; */

        border: medium none;

        color: #333;

        font-size: 14px;

        margin-top:10px;

        margin-left:5px;

        /* font-weight: 300; */

        /* text-align: left; #c43b68*/

        height: auto;

        max-height : 250px;

        overflow-y: scroll;

    }

    

    .clientMutuelleForm .typeahead{

        width: 24%;

        /* background: #fff none repeat scroll 0 0; */

        border: medium none;

        color: #333;

        font-size: 18px;

        margin-top:10px;

        margin-left:10px;

        /* font-weight: 300; */

        /* text-align: left; #c43b68*/

        height: auto;

        max-height : 250px;

        overflow-y: scroll;

    }

    

    #factForm .typeahead {

        width: 45%;

        /* background: #fff none repeat scroll 0 0; */

        border: medium none;

        color: #333;

        font-size: 14px;

        /* margin-top:10px;

        margin-left:10px; */

        /* font-weight: 300; */

        /* text-align: left; #c43b68*/

        height: auto;

        max-height : 250px;

        overflow-y: scroll;

    }

    

    #factFormM .typeahead {

        width: 25%;

        /* background: #fff none repeat scroll 0 0; */

        border: medium none;

        color: #333;

        font-size: 14px;

        margin-top:10px;

        margin-left:10px;

        /* font-weight: 300; */

        /* text-align: left; #c43b68*/

        height: auto;

        max-height : 250px;

        overflow-y: scroll;

    }

    

    #searchProdForm .typeahead {

        width: 27%;

        /* background: #fff none repeat scroll 0 0; */

        border: medium none;

        color: #333;

        font-size: 18px;

        /* margin-top:18px; */

        /* font-weight: 300; */

        /* text-align: left; #c43b68*/

        height: auto;

        max-height : 250px;

        overflow-y: scroll;

    }


    .ajouterProdForm .typeahead>li,.ajouterProdForm .typeahead>li.active,

    .ajouterProdForm .typeahead>li.active>a:hover,

    #searchProdForm .typeahead>li,

    #ajouterProdFormMutuelle .typeahead>li,

    #ajouterProdFormMutuelle .typeahead>li.active,

    #ajouterProdFormMutuelle .typeahead>li.active>a:hover {

        /* background: #c43b68 none repeat scroll 0 0; */

        /* background: #312d2e none repeat scroll 0 0; */

        border: medium none;

        color: #fff;

        font-size: 14px;

        height: 50px;

        /* font-weight: 300; */

        /* text-align: left; #c43b68*/

    }



    .ajouterProdForm .typeahead>li>a,

    #ajouterProdFormMutuelle .typeahead>li>a,

    #searchProdForm .typeahead>li>a {

        /* background: #c43b68 none repeat scroll 0 0; */

        /* background: #312d2e none repeat scroll 0 0; */

        border: medium none;

        color: #333;

        font-size: 14px;

        height: 50px;

        /* font-weight: 300; */

    



    }

   </style>


   <script type="text/javascript" src="js/script.js"></script>
   <!-- <script type="text/javascript" src="js/jquery.bootpag.js"></script> -->
   <script type="text/javascript" src="js/jquery.js"></script>
   <script type="text/javascript" src="js/pagination.js"></script>
   <script defer src="sw.js"></script>

   
   <!-- <script type="text/javascript" src="js/script2.js"></script> -->
   <script src="js/jquery-3.1.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

   <script> 
       $(function(){
         //$("#entete").load("headerOffline.html"); 
         $("#venteContent").load("loadContainer.html");
         $("#idPanier").load("container.html");
       });
   </script>

   <script type="text/javascript" src="js/typeahead/bootstrap3-typeahead.min.js"></script>

   <script>

   </script>


<!-- Include Date Range Picker -->


<!--script type="text/javascript" src="validationAjoutReference.js"></script-->

<link rel="stylesheet" type="text/css" href="css/style.css">

<link rel="stylesheet" type="text/css" href="vitrine/css/styleVitrine.css">

<meta name="viewport" content="width=device-width, initial-scale=1">

<style media="print" type="text/css">   .noImpr {   display:none;   } </style>

<title>JCAISSE</title>

    

  <style>

      

    @media screen and (min-width:1025px) {

        .content2{

            margin-left: 0px;

            /* margin-top: 10px; */

            text-align: center;

        } 

        /* .tabScore {

            display: none;

        }  */

        .remise, .compte, .compteAvance, .versement, .tauxMutuelle, .idMutuelle, .client, .avanceInput, .clientMutuelle, .compteMutuelle, .tauxMutuelle, .idMutuelle, .avanceInputM, .compteAvanceM{

            width: 20%;

        }

        .compteMutuelle, .tauxMutuelle, .idMutuelle, .clientMutuelle, .compteMutuelle, .tauxMutuelle, .idMutuelle, .avanceInputM, .compteAvanceM, .annulerMutuelle, .terminerMutuelle, .terminerMutuelleBon{

            margin-top: 10px;

        }         

        .idMutuelle{

            margin-left:5%;

        }         

        .clientMutuelle, .compteMutuelle, .tauxMutuelle, .idMutuelle, .avanceInputM, .compteAvanceM{

            width: 16%;

            margin-left:50px;

        }          

        .codeAdherantMutuelle, .codeBeneficiaire, .numeroRecu, .dateRecu{

            width: 13%;

        }          

        .codeBarreLigneMutuelle{

            width: 26%;

        }

        .compte, .compteAvance, .versement, .tauxMutuelle, .client, .avanceInput {

            /* margin-top:3px; */

            margin-left:3px;

        }

         

        .codeAdherantMutuelle, .codeBeneficiaire, .numeroRecu, .dateRecu, .codeBarreLigneMutuelle {

            margin-top:10px;

            margin-left:5px;

        }

        .clientMutuelle, .compteMutuelle, .tauxMutuelle, .idMutuelle, .avanceInputM, .compteAvanceM {

            margin-top:10px;

            margin-left:10px;

        }

    } 

    @media screen and (max-width:1024px) and (min-width:769px) {

        .content2{

            margin-left: 0px;

            /* margin-top: 10px; */

            text-align: center;

        }  

        /* .tabScore {

            display: none;

        }  */

        .remise, .compte, .compteAvance, .versement, .tauxMutuelle, .idMutuelle, .client, .avanceInput {

            width: 26%;

        } 

        .compte, .compteAvance, .versement, .tauxMutuelle, .client, .avanceInput {

            /* margin-top:3px; */

            margin-left:3px;

        }         

        .clientMutuelle, .compteMutuelle, .tauxMutuelle, .idMutuelle, .avanceInputM, .compteAvanceM, .codeAdherantMutuelle, .codeBeneficiaire, .numeroRecu, .dateRecu, .codeBarreLigneMutuelle {

            margin-top:3px;

            margin-left:3px;

        }

        .compteMutuelle, .tauxMutuelle, .idMutuelle, .annulerMutuelle, .terminerMutuelle{

            margin-top: 10px;

        }         

        .clientMutuelle, .compteMutuelle, .tauxMutuelle, .idMutuelle, .avanceInputM, .compteAvanceM{

            width: 16%;

            margin-left:10px;

        }          

        .codeAdherantMutuelle, .codeBeneficiaire, .numeroRecu, .dateRecu{

            width: 14%;

        }          

        .codeBarreLigneMutuelle{

            width: 23%;

        }

        

    }  

    @media screen and (max-width:375px) {

        /* Mobile devicess */ 

        .tabScore {  

            display: none;

        }  

        .remise, .compte, .compteAvance, .versement, .client, .avanceInput {

            width: 45%;

            margin-top:3px;

            margin-left:5px;

        }  

        .terminer, .annuler{

            margin-top: 3px;

        }   

        .terminerMutuelle, .annulerMutuelle{

            margin-left: 0px;

            margin-top: 5px;

            width: 20%;

        } 

        /* .clientMutuelle, .codeAdherantMutuelle, .codeBeneficiaire, .numeroRecu, .dateRecu, .codeBarreLigneMutuelle {

            margin-top:3px;

            margin-left:3px;

        }*/

        .clientMutuelle, .avanceInputM, .compteAvanceM, .codeAdherantMutuelle, .codeBeneficiaire, .numeroRecu, .dateRecu

        , .tauxMutuelle, .idMutuelle, .compteMutuelle{

            width: 100%;

            margin-top:5px;

            margin-left:10px;

        }          

        .codeBarreLigneMutuelle{

            width: 100%;

            margin-left:10px;

        }

    }  

    @media screen and (max-width:480px) and (min-width:376px){

        /* Mobile devicess */

        /* .content2{

            margin-left: 0px;

            margin-top: 10px;

            text-align: center;

        }    */

        .tabScore {

            display: none;

        }  

        .remise, .compte, .compteAvance, .versement .client, .avanceInput {

            width: 110px;

            margin-top:3px;

            margin-left:2px;

        }         

        /* .clientMutuelle, .codeAdherantMutuelle, .codeBeneficiaire, .numeroRecu, .dateRecu, .codeBarreLigneMutuelle{

            width: 26%;

        } */

        .terminer, .annuler{

            margin-top: 3px;

        }    

        .terminerMutuelle, .annulerMutuelle{

            /* margin-left: 0px; */

            margin-top: 5px;

            width: 20%;

        } 

        .clientMutuelle, .avanceInputM, .compteAvanceM, .codeAdherantMutuelle, .codeBeneficiaire, .numeroRecu, .dateRecu,

        .tauxMutuelle, .idMutuelle, .compteMutuelle{

            width: 100%;

            margin-top:8px;

            margin-left:10px;

        }          

        .codeBarreLigneMutuelle{

            width: 100%;

            margin-left:10px;

        }

    }

    @media screen and (max-width:640px) and (min-width:481px) {

        /* Mobile devicess */

        .content2{

            margin-left: 5px;

            margin-top: 10px;

            text-align: center;

        }  

        .tabScore {

            display: none;

        }          

        .clientMutuelle, .compteMutuelle, .tauxMutuelle, .idMutuelle, .avanceInputM, .compteAvanceM, .codeAdherantMutuelle, .codeBeneficiaire, .numeroRecu, .dateRecu, .codeBarreLigneMutuelle{

            width: 26%;

        }

        .remise, .compte, .compteAvance, .versement, .tauxMutuelle, .idMutuelle, .client, .avanceInput {

            width: 32%;

            margin-top:3px;

            margin-left:3px;

        }

        .terminer, .annuler{

            margin-top: 3px;

        } 

    }



    .loading-divI {

        border: 16px solid #f3f3f3; /* Light grey */

        border-top: 16px solid #3498db; /* Blue */

        border-radius: 50%;

        width: 120px;

        height: 120px;

        animation: spin 2s linear infinite;

        margin-top: 10%;

        margin-left: 50%;

        overflow: visible;

    }



    @keyframes spin {

        0% { transform: rotate(0deg); }

        100% { transform: rotate(360deg); }

    }         



    .tauxMutuelle{

            width: 6%;

        }

  </style>

</head>

<!-- Debut Code HTML -->

<body>

    <input type="hidden" id="typeVente" value="1"/>

    <script>

        if ( window.history.replaceState ) {

            window.history.replaceState( null, null, window.location.href );

        }
    
    </script>

    <header class="noImpr" >

        <div style="display:none;" >

            <input type="number" id="lcd_Machine" name="lcd" value="" />

        </div>

        <div class="row" style="margin-bottom:2px;margin-left:2px">
            <div class="col-sm-1 pull-center" >
            <img class="img-thumbnail" src="images/logo.png"/>
            </div>
            <div class="col-sm-3 col-sm-offset-8 pull-center" style="border: 1px dotted black;border-radius: 7px;padding:14px" align="center" >
            <span><b id="nomBoutique1"></b></span>
            </div>
        </div>


        <nav class="navbar navbar-inverse">
        
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">

                    <span class="sr-only">Toggle navigation</span>

                    <span class="icon-bar"></span>

                    <span class="icon-bar"></span>

                    <span class="icon-bar"></span>

                </button>
                <a class="navbar-brand" href="#"></a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav menu">
                    <li><a href="#" data-dismiss="modal" class="caissier disabled" id="accueil"><b>ACCUEIL</b></a></li>
                    <li class="caissier"><a href="#" data-dismiss="modal" class="disabled" id="rapport"><b>RAPPORT</b></a></li><li class="dropdown">
                        <a class="dropdown-toggle caissier" data-toggle="dropdown" href="#" id="cpt"><b>COMPTE</b><span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="#" data-dismiss="modal" class="disabled"><span class="fa fa-" style="font-size:16px" id="listeoperation"></span> <b>LISTE DES OPERATIONS</b></a></li>
                            <li><a href="#" data-dismiss="modal" class="disabled"><span class="fa fa-" style="font-size:16px" id="listecomptecompte"></span> <b>LISTE DES COMPTES</b></a></li>
                        </ul>
                    </li><li class="dropdown offline">
                        <a class="dropdown-toggl" data-toggle="dropdown" href="#"><b>CAISSE</b><span class="caret"></span></a>
                        <ul class="dropdown-menu" >
                            <li><a href="insertionLigneLight.html" class="disabled"><b>VENTES</b></a></li>
                            <li><a href="#" data-dismiss="modal" class="caissier disabled" id="actualiser"><b>ACTUALISER</b></a></li>
                                
                            <li><a href="#" data-dismiss="modal" class="caissier disabled" id="journal"><b>JOURNAUX</b></a></li>
                        </ul>
                    </li><li class="offline"><a href="#" data-dismiss="modal" id="client" class="disabled"><b>CLIENTS</b></a></li> 
                    <li class="caissier"><a href="#" data-dismiss="modal" class="disabled" id="fournisseur"><b>FOURNISSEURS</b></a></li>
                    <li class="dropdown caissier" >
                        <a class="dropdown-toggle caissier" data-toggle="dropdown" href="#"><b>STOCK</b><span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="#" data-dismiss="modal" class="disabled" id="stock"><b>GESTION STOCK</b></a></li>
                            <li><a href="#" data-dismiss="modal" class="disabled" id="inventaireI"><b>INVENTAIRE INTERMITENT</b></a></li>
                            <li><a href="#" data-dismiss="modal" class="disabled" id="inventaireP"><b>INVENTAIRE PERMANENT</b></a></li> 
                        </ul>
                    </li><li class="dropdown">
                        <a class="dropdown-toggle caissier" data-toggle="dropdown" href="#"><b>CATALOGUE</b><span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="#" data-dismiss="modal" class="caissier disabled" id="reference"><b>REFERENCES</b></a></li>
                            <li><a href="#" data-dismiss="modal" class="caissier disabled" id="categorie"><b>CATEGORIES</b></a></li>
                            <li><a href="#" data-dismiss="modal" id="initialisation"><b>INITIALISATION</b></a></li>
                        </ul>
                    </li>				
                </ul>
                
                <ul class="nav navbar-nav navbar-right">
                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#"><b>CONNEXION</b><span class="caret"></span></a>
                        <ul class="dropdown-menu  menu" >
                            <li class="caissier"><a style="background-color:#d5d8dc;">
                                <form  method="post"  >
                                    <!-- <input type="hidden" name="idBoutique"  value="74"  > -->
                                    <button type="submit" class="btn btn-success" name="btnChangerBoutique" id="btnChangerBoutique">
                                                    <i class="glyphicon glyphicon-eye-open"></i>
                                    </button>  
                                    <button type="submit" class="btn btn-primary" name="btnChangerVitrine" id="btnChangerVitrine">
                                        <i class="glyphicon glyphicon-globe"></i>
                                    </button> <b id="nomBoutique"></b>
                                </form>
                                
                            <li><a href="personnel.php" class="disabled caissier" id="personnel"><span class="fa fa-group" style="font-size:16px"></span> <b>PERSONNEL</b></a></li>
                            <li><a href="#" class="disabled" id="profilUser"><span class="glyphicon glyphicon-user"></span> <b id ="profil"></b></a></li>
                            
                            <li><a href="#" id="deconnexion"><font color="red"><span class="glyphicon glyphicon-log-out"></span> <b>DECONNEXION</b></font></a>

                            </li>
                            <!-- <li><a href="#" id="onLine" data-dismiss="modal"><font color="red"><span class="glyphicon glyphicon-log-out"></span> <b>MODE CONNEXION</b></font></a>

                            </li> -->
                            
                        </ul>
                    </li>
                </ul>
            </div>

        </nav>

    </header>


    <!-- Debut Container HTML --> 

        <div class="container" id="venteContent"> 



            <img src="images/loading-gif3.gif" style="margin-left:40%;margin-top:8%" class="loading-gif" alt="GIF" srcset="">

            

        </div>

        <div class="container content" id="idPanier">      
        </div>

        <!-- <div class="col-md-12 text-center">
            <ul id="myPager" class="pagination"></ul>
        </div> -->
           

        <div class="modal fade msg_info" role="dialog">

            <div class="modal-dialog">
        
                
        
                <div class="modal-content">
        
                    <div class="modal-header panel-primary">
        
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
        
                        <h4 class="modal-title">Alerte</h4>
        
                    </div>
        
                    <div class="modal-body">
        
                        <b><span id="msg1"></span></b>
        
                    </div>
        
                    <div class="modal-footer">
        
                        <button type="button" class="btn btn-primary btnCloseMsg" data-dismiss="modal">Close</button>
        
                    </div>
        
                    </div>
        
            </div>
        
        </div>

        <div class="modal fade msg_info" role="dialog" id="msg_info_avance">

            <div class="modal-dialog">
        
                
        
                <div class="modal-content">
        
                    <div class="modal-header panel-primary">
        
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
        
                        <h4 class="modal-title">Alerte</h4>
        
                    </div>
        
                    <div class="modal-body">
        
                        <p> ATTENTION!<br>



                            Le montant de l'avance est suppérieur au montant du panier. <br>
    
    
    
                            Cette avance ne sera pas enregistrée si vous terminez le panier.
    
    
    
                        </p>
        
                    </div>
        
                    <div class="modal-footer">
        
                        <button type="button" class="btn btn-primary btnCloseMsg" data-dismiss="modal">Close</button>
        
                    </div>
        
                    </div>
        
            </div>
        
        </div>

        
    <!-- Fin Container HTML -->
    <script type="text/javascript">
        
        date = new Date();
        sec = date.getSeconds();
        setTimeout(()=>{
            setInterval(()=>{
                //alert(1)
                if(navigator.onLine==true){
                    username=sessionStorage.emailSession
                    password=sessionStorage.passwordSession

                    var lesPaniers=getPagnet();
                    //var lesPaniers=localStorage.getItem("pagnet");
                    paniers= lesPaniers.filter(p =>p.verrouiller==1 && p.synchronise==0);
                    

                    /*var j=paniers.length-1;
                    var min=0;
                    if(paniers!=null){
                        for(var i=paniers.length-1; 0<=i;i--){
                            if(i==j){
                                min=paniers[i].identifiantP;
                            }
                            if(paniers[i].identifiantP < min ){
                                min=paniers[i].identifiantP;
                            }
                        }*/
                        
                    var min=paniers[0].identifiantP;
                    // var min=0;
                    if(paniers!=null){
                        // for(var i=paniers.length-1; 0<=i;i--){
                        //     if(i==j){
                        //         min=paniers[i].identifiantP;
                        //     }
                        //     if(paniers[i].identifiantP < min ){
                        //         min=paniers[i].identifiantP;
                        //     }
                        // }
                        
                        for (let i = 1; i < paniers.length; i++) {
                            const e = paniers[i].identifiantP;
                           if (parseInt(min) > parseInt(e)) {
                                
                            /*if (min > e) {*/
                                min = e;
                               
                            }
                               
                        }
                        
                        panier= lesPaniers.find(p =>p.identifiantP==parseInt(min));
                        //alert(min+' '+panier)
                        envoiPanier(panier);
                        
                    }
                    
                    
                    
                    // $(document).on( "click", "#accueil", function (e){
                    //     window.location.href="/JCaisse/accueil.php"
                    // });
                    // $(document).on( "click", "#rapport", function (e){
                    //     window.location.href="/JCaisse/rapport.php"
                    // });
                    

                    // $("#btnChangerBoutique").attr("disabled","disabled");
                    // $("#btnChangerVitrine").attr("disabled","disabled");

                }else{
                    // $("#btnChangerBoutique").attr("disabled","disabled");
                    // $("#btnChangerVitrine").attr("disabled","disabled");
                    
                    $(document).on( "click", "#btnBon", function (e){
                        message="Votre connexion est interrompue!!!";
                        document.getElementById('msg1').innerHTML=message
                        $('.msg_info').modal('show');
                    });


                    $(document).on( "click", ".btnCloseMsg", function (e){
                        //window.location.href="/JCaisse/offline/index.html";
                    });

                }
                
            }, 60 * 100);
        }, (60 - sec) * 100);
        
        setTimeout(()=>{
            setInterval(()=>{
                //alert(1)
                if(navigator.onLine==true){
                    
                    $.ajax({

                        url: "ajax/loadDataAjax.php",
        
                        method: "POST",
        
                        success: function(data) {
                            //alert(1)
                            var tab = data.split('<>');
        
                            //localStorage.setItem('Iduser', tab[0]);
        
                            //localStorage.setItem('Boutique', tab[1]);
                            
                            localStorage.setItem('Designation', tab[2]);
        
                            localStorage.setItem('Compte', tab[3]);
        
                            localStorage.setItem('Client', tab[4]);
        
                            //localStorage.setItem('Payement-salaire', tab[5]);
        
                            //users=JSON.parse(localStorage.getItem("Boutique"));
                            //alert(users)
                            //iduser=localStorage.getItem('Iduser')
                            //searchUser=users.find(u=>u.idutilisateur == parseInt(iduser));
                            //alert(searchUser.idutilisateur)
        
                            
                        },
        
                        error: function(data) {
        
                            //alert(data);
        
                        },
        
                        dataType: "text"
        
                    });

                }
                
            }, 60 * 100);
        }, (60 - sec) * 100);
        
        $(document).on("click", "#deconnexion", function(e) {
            if(navigator.onLine==true){
                sessionStorage.clear()
                window.location.href="/index.php"
            }else{
                sessionStorage.clear()
                window.location.href="/JCaisse/offline/index.html"
            }
            // sessionStorage.clear()
            // window.location.href="/JCaisse/offline/index.html";
        })
       
        document.getElementById('nomBoutique').innerHTML=sessionStorage.nomBSession
        document.getElementById('nomBoutique1').innerHTML=sessionStorage.nomBSession
        document.getElementById('profil').innerHTML='PROFIL ('+sessionStorage.prenomSession+' '+sessionStorage.nomUserSession+')'
        
        $(document).on( "click", "#listeoperation", function (e){
            window.location.href="/JCaisse/compte/opComtes.php"
        });
        $(document).on( "click", "#listecompte", function (e){
            window.location.href="/JCaisse/compte/compte.php"
        });
        $(document).on( "click", "#actualiser", function (e){
            window.location.href="/JCaisse/actualiserVenteP.php"   
        });
        $(document).on( "click", "#journal", function (e){
            window.location.href="/JCaisse/historiquecaisse.php"
        });
        
        $(document).on( "click", "#client", function (e){
            window.location.href="/JCaisse/bon.php"
        });
        $(document).on( "click", "#fournisseur", function (e){
            window.location.href="/JCaisse/fournisseur.php"
        });
        $(document).on( "click", "#stock", function (e){
            window.location.href="/JCaisse/gestionStock.php"
        });
        $(document).on( "click", "#inventaireI", function (e){
            window.location.href="/JCaisse/inventaireStock.php"
        });
        $(document).on( "click", "#inventaireP", function (e){
            window.location.href="/JCaisse/inventaireStockJour.php"
        });
        $(document).on( "click", "#reference", function (e){
            window.location.href="/JCaisse/insertionProduit.php"
        });
        $(document).on( "click", "#categorie", function (e){
            window.location.href="/JCaisse/insertionCategorie.php"
        });
        $(document).on( "click", "#initialisation", function (e){
            window.location.href="/JCaisse/initialisationCatalogue.php"
        });
        $(document).on( "click", "#personnel", function (e){
            window.location.href="/JCaisse/personnel.php"
        });
        $(document).on( "click", "#profilUser", function (e){
            window.location.href="/JCaisse/profile.php"
        });
             
    </script>

        

</body>





 